[{"id":"efa02e8f.bff0a8","type":"function","z":"c0f79a7a.d587","name":"","func":"\n\n\nfunction extractValue(arr, prop) {\n\n    let extractedValue = [];\n\n    for (let i=0; i < arr.length ; ++i) {\n\n        // extract value from property\n        extractedValue.push(arr[i][prop]);\n    }\n    return extractedValue;\n}\n\nlast3=msg.payload[0].data[0].slice(0,1)\nlast10=msg.payload[0].data[0].slice(0,10)\n\nlast3x=extractValue(last3,'x');\nlast3y=extractValue(last3,'y');\nlast10x=extractValue(last10,'x');\nlast10y=extractValue(last10,'y');\n\nmean3y=last3y.reduce(function(a, b){return a + b;}, 0);\nmean10y=last10y.reduce(function(a, b){return a + b;}, 0)/10.0;\n\ndiff=mean10y-mean3y\n\nif (diff<0){\n    arrow='➘'\n} else {\n    arrow='➚'}\n\n\n//var newMsg = {diff: slope, mean3y: mean3y, mean10y: mean10y}\nvar newMsg = {diff: diff, payload: arrow}\n\nreturn newMsg;","outputs":1,"noerr":0,"x":1140,"y":2280,"wires":[["c69e444.72ed338","e885b65.9628348"]]}]